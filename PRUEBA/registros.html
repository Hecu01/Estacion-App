<?php

    $conexion = mysqli_connect("localhost","root","","proyecto");
   
   ?>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href= "style/chosen.css" rel= "stylesheet" type= "text/css">
    <link href="db.onlinewebfonts.com/c/3f610a59a3c8a0229084ea3e1312738c?family=Helvetica" rel="stylesheet" type="text/css"/>   
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
   
    <title>Registrar Usuario</title>
</head>
<body class="">

    <div class="contenedor-general">
        <h1 align="center" style="font-family:Helvetica">ESTACIONAPP</h1>
        
            <!--
                <div class="map">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13310.249677533842!2d-60.01438485!3d-33.486741599999995!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses-419!2sar!4v1664509589146!5m2!1ses-419!2sar" width="200" height="200" style="border-radius: 50px; margin-left: 1cm;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            -->

        <div class="contenedor-registro">

            <form action="registrar.php" name="formular" id= "formular" method="POST" align="center" autocomplete="on" onkeyup= "habilitar()" >
            
            
                <br>
                <br>
                <label for="fecha">Fecha</label>
                <br>
                <input class="form-type" type="date"  id="fecha" name="fecha">
        
                <br>
                <br>
        
                <label for="">Ciudad</label>
                <br>
                <select class="form-select" name="ciudad" id="ciudad">
                    <option value="San Nicolás">San Nicolás</option>
                    <option value="Ramallo">Ramallo</option>
                    <option value="Rosario">Rosario</option>
                </select>
        
                <br>
                <br>
        
                <label for="">Estacionamiento</label>
                <br>
                        
                
                
                <select class="form-select"  name="direccion" id="direccion" > 
                        


               
                    <optgroup label="San Nicolás" >San Nicolás</optgroup>
                        <option value="Mitre 185"  id="est"><a href="https://www.google.com/maps/dir//Estacionamiento+Mitre,+ACC,+Bartolom%C3%A9+Mitre+185,+B2900+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.3337316,-60.2304946,15z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b7678c4060d399:0x692dcf9fc9efa1e9!2m2!1d-60.2184709!2d-33.3300429!3e0">Mitre 185</a></option>

                        <option value="Garibaldi 239" id="est"><a href="https://www.google.com/maps/dir//ESTACIONAMIENTO+24Hs,+Garibaldi+239,+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.3336112,-60.2182131,17z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b76788d989bf6d:0x8c4c4e7bced14e26!2m2!1d-60.2160319!2d-33.3336105!3e0">Garibaldi 239</a></option>

                        <option value="Garibaldi 130" id="est"><a href="https://www.google.com/maps/dir//Garibaldi+130,+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.3315689,-60.2159549,17z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b76789a1afae29:0xc1f8001f517fe5eb!2m2!1d-60.2137662!2d-33.3315734!3e0">Garibaldi 130</a></option>

                        <option value="9 de Julio 30" id="est"><a href="https://www.google.com/maps/dir//Estacionamiento+9+de+Julio+Las+24+hs,+9+de+Julio+30,+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.405825,-63.5330248,7z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b7678dd356223f:0x4547b958f199dffe!2m2!1d-60.2197878!2d-33.3314171!3e0">9 de Julio 30</a>

                        <option value="Mitre 575" id="est"><a href="https://www.google.com/maps/dir//Bartolom%C3%A9+Mitre+575,+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.337796,-60.2283403,17z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b767908f9bb63b:0x7f67df3a299e5c74!2m2!1d-60.2261516!2d-33.3378005!3e0">Mitre 575</a></option>

                        <option value="San Martin 28" id="est"><a href="https://www.google.com/maps/dir//San+Mart%C3%ADn+28,+San+Nicol%C3%A1s+de+Los+Arroyos,+Provincia+de+Buenos+Aires/@-33.3328185,-60.2223934,17z/data=!4m9!4m8!1m0!1m5!1m1!1s0x95b7678e66a19241:0x636cc611747d2c60!2m2!1d-60.2202047!2d-33.332823!3e0">San Martin 28</a></option>

                        <optgroup label="Rosario">Rosario</optgroup>
                        <option value="Balcarce 930" id="est"><a href="https://goo.gl/maps/ssLLF4A4C5r6gKZQ9">
                        Balcarce 930</a></option>
                        <option value="3 de Febrero" id="est"><a href="https://goo.gl/maps/Gb54aujKpFsopUwn8">
                            <img src="img/3defparking.png" class="efectoPrueba" >
                        3 de Febrero</a></option>

                        <option value="9 de Julio 2248" id="est"><a href="https://goo.gl/maps/15wvwRy4XHMrXFXq5">
                            <img src="img/9dej.png" class="efectoPrueba" >9 de Julio 2248
                        </a></option>

                        <option value="Montevideo 2445"  id="est"><a href="https://goo.gl/maps/KhatCCaXfrvUbqTm6"><img src="img/mont.png" class="efectoPrueba" >montevideo 2445</a></option>

                        <option value="España 1045" id="est"><a href="https://goo.gl/maps/Tnzkmem4c6oKayYWA"><img src="img/españa.png" class="efectoPrueba">España 1045</a></option>

                        <option value="Zeballos 2245" id="est"><a href="https://goo.gl/maps/RcXsSBaa97DEXzp56"><img src="img/zeballos.png">Zeballos 2245</a></option>

                        <option value="Pellegrini 1943" id="est"><a href="https://goo.gl/maps/4zeYUWGVyiA79dE88"><img src="img/pellegrini.png">Pellegrini 1943</a></option>
                        <optgroup label="Ramallo">Ramallo</optgroup>

                        <option value="Estación Ferrocarril" id="est"><a href="https://www.google.com/maps/dir/-33.3785912,-60.1789127/Estaci%C3%B3n+de+Ferrocarril+Villa+Ramallo,+Unnamed+Road,+Villa+Ramallo,+Provincia+de+Buenos+Aires/@-33.4535691,-60.2658133,11z/data=!3m1!4b1!4m13!1m2!2m1!1sestacionamientos+ramallos!4m9!1m1!4e1!1m5!1m1!1s0x95b9e3a4aa863829:0x626b29c6d1f7ca9!2m2!1d-60.0679259!2d-33.5016766!3e0"><img src="img/ferro.png"  width="130" height="130" style=" border-radius: 50%;">Estación Ferrocarril
                        </a></option>

                        <option value="Camping Las Carpas" id="est" ><a href="https://goo.gl/maps/5NyQyK9Usf4HDAxT7"><img src="img/carpa.png" alt="" width="130" height="130" style="margin: auto; border-radius: 50%;">Camping "Las Carpas"</a></option>

                        <option value="Complejo Non Stop" id="est"><a href="https://goo.gl/maps/Daw26BezL5YTNzZSA">Complejo Non Stop</a></option> 
                    </select> 
                    
                    

                       
                <br>
                <br>

              
        
                <label for="">Vehículo</label>
                <br>
                <select class="form-select" name="tipo" id="tipo">
                    <option value="Auto">Auto</option>
                    <option value="Moto">Moto</option>
                    <option value="Camioneta">Camioneta</option>
                </select>
        
                <br>
                <br>
        
                <label for="">Modelo</label>
                <br>
                <input class="form-type" type="text" id="modelo" name="modelo">
        
                <br>
                <br>
                <label for="">Patente</label>
                <br>
                <input class="form-type" type="text" id="patente" name="patente">
                
                <br>
                <br>

                <input type="submit" name= "enviar" id="enviar" style="display: block; margin: auto;" onclick="miAlerta()" class="btn btn-primary" value="Enviar" > 
            
           
        
            </form>
            
        </div>

        
        
    </div>

</body>

<script>
    function miAlerta(){
        alert("Estacionamiento exitoso");
    }
</script>

<script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly"
      defer
    ></script>


<script>
function mapa() {
  var searchInput = 'search_input';

  const center = { lat: -33.3334669, lng: -60.2110494 };
  const defaultBounds = {
      north: center.lat + 0.2,
      south: center.lat - 0.2,
      east: center.lng + 0.2,
      west: center.lng - 0.2,
    };

    const options = {
      bounds: defaultBounds,
      strictBounds: false,
    };

    var latitude;
    var longitude;

  $(document).ready(function () {
      var autocomplete;
      autocomplete = new google.maps.places.Autocomplete((document.getElementById('search_input')), options);


      google.maps.event.addListener(autocomplete, 'place_changed', function () {
        var places = autocomplete.getPlace();

        latitude = places.geometry.location.lat();
        longitude = places.geometry.location.lng();

        var marker = new google.maps.Marker({
          position: {lat: latitude, lng: longitude},
          map: map,
          title: ''
        });

        map.setZoom(15);
        map.setCenter({lat: latitude, lng: longitude});

        window.location.href = "#map";


    });

  });
}
</script>

<script>

function habilitar(){

   fecha = document.getElementById('fecha').value;
   ciudad = document.getElementById('ciudad').value;
   lugar = document.getElementById('direccion').value;
   autos = document.getElementById('tipo').value;
    modelo = document.getElementById('modelo').value;
    patente = document.getElementById('patente').value;
    const boton = document.getElementById('enviar');
    val = 0;

    if(fecha == ""){
        val++;
    }
    if(ciudad == ""){
        val++;
    }
    if(lugar == ""){
        val++;
    }
    if(autos == ""){
        val++;
    }
    if(modelo == ""){
        val++;
    }
    if(patente == ""){
        val++;
    }

    if(val == 0){
        boton.disabled = true;
    }else{
        boton.disabled = false;
    }

    document.getElementbyId('fecha').addEventListener("keyup",habilitar);
    document.getElementbyId('ciudad').addEventListener("keyup",habilitar);
    document.getElementbyId('direccion').addEventListener("keyup",habilitar);
    document.getElementbyId('tipo').addEventListener("keyup",habilitar);
    document.getElementbyId('modelo').addEventListener("keyup",habilitar);
    document.getElementbyId('patente').addEventListener("keyup",habilitar);
    document.getElementbyId('enviar').addEventListener("change", () =>{
        alert("Formulario completado");
    });
}
</script>
</html>